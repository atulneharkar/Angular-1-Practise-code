<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css">
    <script src="../../jquery/jquery.min.js"></script>
    <script src="../../angular/angular.min.js"></script>
    <script src="script.js"></script>
  </head>

  <body ng-app="validationApp">
    <div class="container" ng-controller="mainController">
      <div class="col-sm-8 col-sm-offset-2">

        <!-- PAGE HEADER -->
        <div class="page-header"><h1>AngularJS Form Validation</h1></div>

        <!-- FORM -->
        <!-- pass in the variable if our form is valid or invalid -->
        <form name="userForm" ng-submit="submitForm(userForm.$valid)" novalidate> <!-- novalidate prevents HTML5 validation since we will be validating ourselves -->

            <!-- first name -->
            <div class="form-group" ng-class="{ 'has-error' : userForm.fname.$invalid && submitted && !fnamefocused}">
                <label>First Name</label>
                <input type="text" name="fname" class="form-control" ng-pattern="/^[a-zA-Z\s]+$/" ng-model="fname" required ng-focus="fnamefocused=true" ng-blur="fnamefocused=false">
                <p ng-show="userForm.fname.$error.required && submitted && !fnamefocused" class="help-block">Please enter First Name.</p>
				<p ng-show="userForm.fname.$error.pattern && submitted && !fnamefocused" class="help-block">Please enter valid First Name.</p>
            </div>

            <!-- last name -->
            <div class="form-group" ng-class="{ 'has-error' : userForm.lname.$invalid && submitted && !lnamefocused}">
                <label>Last Name</label>
                <input type="text" name="lname" class="form-control" ng-pattern="/^[a-zA-Z\s]+$/" ng-model="lname" required ng-focus="lnamefocused=true" ng-blur="lnamefocused=false">
                <p ng-show="userForm.lname.$error.required && submitted && !lnamefocused" class="help-block">Please enter Last Name.</p>
				<p ng-show="userForm.lname.$error.pattern && submitted && !lnamefocused" class="help-block">Please enter valid Last Name.</p>
            </div>

            <!-- email -->
            <div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid && submitted && !emailfocused}">
                <label>Email</label>
                <input type="email" name="email" class="form-control" ng-pattern='/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/' ng-model="email" required ng-focus="emailfocused=true" ng-blur="emailfocused=false">
                <p ng-show="userForm.email.$error.required && submitted && !emailfocused" class="help-block">Please enter Email ID.</p>
				<p ng-show="userForm.email.$error.pattern && submitted && !emailfocused" class="help-block">Please enter valid Email ID.</p>
            </div>

            <!-- password -->
            <div class="form-group" ng-class="{ 'has-error' : userForm.password.$invalid && submitted && !passwordfocused}">
                <label>Password</label>
                <input type="password" name="password" class="form-control" ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}/" ng-model="password" required ng-focus="passwordfocused=true" ng-blur="passwordfocused=false">
                <p ng-show="userForm.password.$error.required && submitted && !passwordfocused" class="help-block">Please enter Password.</p>
				<p ng-show="userForm.password.$error.pattern && submitted && !passwordfocused" class="help-block">Password should be 8 characters long and should contains atleast 1 uppercase, 1 lowercase, 1 number and 1 special character.</p>
            </div>
			
			<!-- re-enter password -->
            <div class="form-group" ng-class="{ 'has-error' : (userForm.repassword.$invalid && submitted && !repasswordfocused) || (!passwordMatch && !repasswordfocused)}">
                <label>Re-enter Password</label>
                <input type="password" name="repassword" class="form-control" ng-model="repassword" ng-focus="repasswordfocused=true" ng-blur="repasswordfocused=false; checkPasswordMatch();" required>
                <p ng-show="userForm.repassword.$error.required && submitted && !repasswordfocused" class="help-block">Please re-enter Password.</p>
				<p ng-show="!userForm.repassword.$error.required && !passwordMatch && submitted && !repasswordfocused" class="help-block">Your entered Password does not match.</p>
            </div>

            <!-- submit button -->
            <input type="submit" class="btn btn-primary">

        </form>

      </div><!-- col-sm-8 -->
    </div><!-- /container -->
  </body>

</html>
